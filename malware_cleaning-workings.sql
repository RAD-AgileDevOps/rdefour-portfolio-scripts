SELECT * FROM 
public.tbl_scanreport_20230926
WHERE  file_deleted isnull ;

UPDATE  public.tbl_scanreport_20230926
SET date_deleted = '2023-09-27' , file_deleted = true
WHERE level4 = 'xxx-yyy-zzz' AND level3 = 'public_html'  ;   /* xxx-yyy-zzz - is 'dummy' data*/

/*
SELECT logid   FROM 
public.tbl_scanreport_20230926 main
WHERE main logid IN () ; */

SELECT * from public.tbl_summary_malware_report
WHERE files_deleted = true   AND level4 != 'xxx-yyy-zzz' ;

--AND (level4 != 'xxx-yyy-zzz' AND level3 != 'xxx-yyy-zzz')
/*
2023-09-28 15:04
At this stage I am going to write an SQL script to select thos records from the 
table: 'tbl_scanreport_20230926' that I delted the malware and need to that table.

Using data feom the table: tbl_summary_malware_report 


*/

Update tbl_scanreport_20230926 top_level
SET date_deleted = '2023-09-28' , file_deleted = true
WHERE top_level.logid in (
SELECT main.logid FROM public.tbl_scanreport_20230926 main

WHERE CONCAT(main.level4, main.level3) in (SELECT CONCAT(smry.level4, smry.level3) 
										   from public.tbl_summary_malware_report smry
WHERE files_deleted = true   AND level4 != 'tnthomesforsale.com')
	)

 ;
 
 -- 2023-09-28 16:28
 -- see the Excel spredsheet "deletion-script-preparation-less-than-5-records.xlsx" for list of
 -- records to continue with deletion from Hostgatwor server








